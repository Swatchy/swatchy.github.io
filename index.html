<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="description" content="swatches manager for photoshop">
    <meta name="keywords" content="swatchy,swatches,Swatches,Design,Extensions,Graphics,Panels,Plug-ins,Utilities,Web,colors,folders,Textures">
    <title>Swatchy</title>
    <link rel="stylesheet" href="main.css?v=3"/>
    <link rel="shortcut icon" href="imgs/icon.ico">
    <script src="jquery.min.js"></script>
    <script src="seeThru.js"></script>
</head>
<body>
    <div align="center">
        <article class="info">
            <section class="about">
                <p class="company">Adobe Photoshop</p>
                <p class="title">Swatchy</p>
                <a class="download" href="https://creative.adobe.com/addons/products/3198">Download</a>
            </section>
            <section class="demo" style="width: 498px;height: 202px;">
                <img src="imgs/preview.png" style="position: absolute;z-index:-1;width:100%;height:100%;" alt=""/>
                <video style="visibility: hidden;" id="vid" width="498" height="202" type="video/quicktime">
                    Oops
                </video>
                <div class="progress"></div>
            </section>
            <br class="clr"/>
            <section class="slogan">
                Folders for your swatches in Photoshop
            </section>
            <section class="authors">
                <table border=0 cellpadding=0 cellspacing=0 style="width:100%;">
                    <tr>
                        <td align="right" style="width:50%;padding-bottom: 10px;">designed by</td>
                        <td align="left" style="padding-bottom: 10px;">
                            <a href="http://enotart.ru">
                                <img src="imgs/ava1.png" align="absmiddle" class="avatar" width="40px" height="40px" alt=""/>
                                <span>Igor Volkov</span>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td align="right">developed by</td>
                        <td align="left">
                            <a href="http://konstantin.io">
                                <img src="imgs/ava2.png" align="absmiddle" class="avatar" width="40px" height="40px" alt=""/>
                                <span>Konstantin Gorodinskiy</span>
                            </a>
                        </td>
                    </tr>
                </table>
            </section>
            <section class="comments">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'gorodinskiy'; // required: replace example with your forum shortname

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </section>
        </article>
    </div>
    <script>
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'video.mov', true);
    xhr.responseType = 'blob';

    xhr.onreadystatechange = function(e) {
        if (this.readyState == 4 && this.status == 200) {
            $("#vid")[0].src=URL.createObjectURL(new Blob([this.response], {type: "video/quicktime"}));
        }
    };
    
    xhr.onprogress = function(e) {
        if (e.lengthComputable) {
            var w = (e.loaded / e.total)*100;
            w>=100?$(".progress").fadeOut(200)&&seeThru.create('#vid'):$(".progress").show().css("width", w+"%");
        } else {}
    };

    xhr.send();
    
        /*var preload = $("<video>").attr({ "preload": "metadata", "src": "video.mov", "autoplay": "autoplay", "controls": "controls" }).bind("progress", function() {
            if(!$(this)[0].duration) return false
            var w = 100*($(this)[0].buffered.end(0) / 25);
            console.log(w);
            w>=100?$(".progress").fadeOut(200):$(".progress").show().css("width", 
                w+"%");
        });
        $("body").append(preload);*/
    </script>
</body>
</html>
